# ultraWrap

## Metadata

**Repository Type**: `FULLSTACK`
**Backend Files**: 66
**Frontend Files**: 1
**Total Tokens**: 47,721
**Total Lines**: 7,109

## Tech Stack

| Category | Technology |
|----------|------------|
| Language | Python >=3.10 |
| Framework | FastAPI |
| Database | SQLAlchemy |

## Architecture

**Pattern**: Modular Monolith

L'architettura segue un approccio a monolito modulare che combina un'interfaccia API basata su FastAPI con funzionalitÃ  CLI tramite Typer. La struttura separa nettamente la logica degli agenti AI (Anthropic/Google) dal core applicativo e dalla configurazione, utilizzando Pydantic per una gestione tipizzata e sicura dei dati tra i diversi layer.

## Entry Points

- `src/turbowrap/api/main.py`
- `src/turbowrap/cli.py`
- `src/turbowrap/tools/__main__.py`

## Key Dependencies

| Package | Version |
|---------|---------|
| pydantic | >=2.0.0 |
| pydantic-settings | >=2.0.0 |
| pyyaml | >=6.0 |
| tiktoken | >=0.7.0 |
| anthropic | >=0.40.0 |
| google-genai | >=1.0.0 |
| google-generativeai | >=0.4.0 |
| typer | >=0.9.0 |
| rich | >=13.0.0 |
| fastapi | >=0.109.0 |

## Files

**Directory Stats:** 3 files, 1,520 lines, 11,345 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `token_calculator.py` | 101 | 680 |
| `turbowrap_legacy.py` | 1,203 | 9,002 |
| `tw.py` | 216 | 1,663 |

### token_calculator.py
*101 lines, 680 tokens*

- **Class**: `FileStats` - Stores file metrics including name, characters, and token counts.
- **Constant**: `_encoder` - Cached tiktoken encoder instance for BPE tokenization.
- **Function**: `count_tokens` - Computes real token counts and statistics for specific files.
- **Function**: `main` - Execution entry point that prints a summary token report.

### turbowrap_legacy.py
*1,203 lines, 9,002 tokens*

- **Constant**: `BE_EXTENSIONS` - Set of supported Python backend file extensions.
- **Constant**: `IGNORE_DIRS` - Set of directories excluded from repository scanning.
- **Class**: `FileInfo` - Dataclass containing file path, type, and content.
- **Class**: `ReviewIssue` - Dataclass representing a specific code review finding.
- **Class**: `FileStructure` - Model for storing analyzed file components and metadata.
- **Class**: `GeminiClient` - Interface for Google Gemini API fast analysis.
- **Class**: `ClaudeClient` - Interface for Anthropic Claude API deep code review.
- **Function**: `should_ignore` - Boolean check to skip specific paths or files.
- **Function**: `discover_files` - Scans repository for backend and frontend source files.
- **Constant**: `MAX_TREE_DEPTH` - Integer limiting depth of directory structure generation.

### tw.py
*216 lines, 1,663 tokens*

- **Function**: `main` - CLI entry point for configuring and executing repository reviews.

## Subdirectories

- [src/](src/STRUCTURE.md) - 1 subfolder

---
*Generated by TurboWrap - 2025-12-24 15:29*