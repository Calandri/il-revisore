# ultraWrap

## Metadata

**Repository Type**: `FULLSTACK`
**Backend Files**: 66
**Frontend Files**: 1
**Total Tokens**: 78,905
**Total Lines**: 12,028
**Generated At**: `1766587668`

## Tech Stack

| Category | Technology |
|----------|------------|
| Language | Python >=3.10 |
| Framework | FastAPI |
| Database | SQLAlchemy |

## Architecture

**Pattern**: Modular Monolith

The project follows a modular monolith architecture that decouples AI agent logic from core services while providing dual access via a FastAPI REST server and a Typer-powered CLI. It utilizes a layered design where centralized configuration and Pydantic-based data validation orchestrate interactions between multiple LLM providers and the application's core functionality.

## Entry Points

- `src/turbowrap/api/main.py`
- `src/turbowrap/cli.py`
- `src/turbowrap/tools/__main__.py`

## Key Dependencies

| Package | Version |
|---------|---------|
| pydantic | >=2.0.0 |
| pydantic-settings | >=2.0.0 |
| pyyaml | >=6.0 |
| tiktoken | >=0.7.0 |
| anthropic | >=0.40.0 |
| google-genai | >=1.0.0 |
| google-generativeai | >=0.4.0 |
| typer | >=0.9.0 |
| rich | >=13.0.0 |
| fastapi | >=0.109.0 |

## Files

**Directory Stats:** 3 files, 1,520 lines, 11,345 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `token_calculator.py` | 101 | 680 |
| `turbowrap_legacy.py` | 1,203 | 9,002 |
| `tw.py` | 216 | 1,663 |

### token_calculator.py
*101 lines, 680 tokens*

- **Class**: `FileStats` - NamedTuple storing file metrics including lines and tokens.
- **Constant**: `_encoder` - Global tiktoken BPE encoder instance for tokenization.
- **Function**: `count_tokens` - Calculates characters, words, lines, and tokens for files.
- **Function**: `main` - Scans directory, processes files, and prints statistical reports.

### turbowrap_legacy.py
*1,203 lines, 9,002 tokens*

- **Constant**: `IGNORE_DIRS` - List of directories excluded from repository analysis.
- **Constant**: `BE_EXTENSIONS` - Set of file extensions classified as backend code.
- **Class**: `FileInfo` - Data container for file paths, types, and content.
- **Class**: `ReviewIssue` - Represents a specific problem found during code review.
- **Class**: `GeminiClient` - Interface for fast analysis using Google Gemini models.
- **Class**: `ClaudeClient` - Interface for deep reviews using Anthropic Claude models.
- **Class**: `FileStructure` - Metadata of an analyzed file for tree generation.
- **Function**: `generate` - Sends prompts to AI models and returns responses.
- **Function**: `should_ignore` - Determines if a path should be skipped during discovery.
- **Function**: `discover_files` - Scans the repository to identify source code files.

### tw.py
*216 lines, 1,663 tokens*

- **Function**: `main` - Main CLI entry point for orchestrating AI-powered code reviews.

## Subdirectories

- [src/](src/STRUCTURE.md) - Main source code container

---
*Generated by TurboWrap - 2025-12-24 15:47*
