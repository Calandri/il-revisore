# db

## Files

**Directory Stats:** 4 files, 260 lines, 1,827 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `__init__.py` | 18 | 91 |
| `base.py` | 9 | 36 |
| `models.py` | 144 | 1,251 |
| `session.py` | 89 | 449 |

### __init__.py
*18 lines, 91 tokens*

- **Class**: `Base` - Classe base SQLAlchemy per i modelli del database.
- **Class**: `Repository` - Rappresenta un repository nel sistema di archiviazione.
- **Class**: `Task` - Modello per la gestione delle attivit√† nel database.
- **Class**: `AgentRun` - Registra le singole esecuzioni degli agenti AI.
- **Class**: `ChatSession` - Gestisce i dati relativi alle sessioni di chat.
- **Class**: `ChatMessage` - Rappresenta i messaggi archiviati nelle conversazioni.
- **Function**: `get_db` - Utility per ottenere una sessione database attiva.
- **Function**: `get_engine` - Restituisce l'engine SQLAlchemy configurato.
- **Constant**: `SessionLocal` - Fabbrica preconfigurata per generare sessioni database.

### base.py
*9 lines, 36 tokens*

- **Class**: `Base` - Classe base per tutti i modelli ORM di SQLAlchemy.

### models.py
*144 lines, 1,251 tokens*

- **Function**: `generate_uuid` - Genera un identificatore UUID univoco in formato stringa.
- **Class**: `Repository` - Rappresenta un repository GitHub clonato e i relativi metadati.
- **Class**: `Task` - Gestisce lo stato e l'esecuzione di processi di analisi.
- **Class**: `AgentRun` - Registra l'esecuzione, i token e i costi degli agenti AI.
- **Class**: `ChatSession` - Gestisce le sessioni di chat interattive nel sistema.
- **Class**: `ChatMessage` - Memorizza i singoli messaggi scambiati all'interno delle chat.

### session.py
*89 lines, 449 tokens*

- **Constant**: `_engine` - Cache globale per l'istanza del motore SQLAlchemy.
- **Constant**: `_SessionLocal` - Cache per la fabbrica di sessioni SQLAlchemy.
- **Function**: `get_engine` - Inizializza e restituisce il motore di connessione al database.
- **Function**: `get_session_local` - Gestisce la creazione della fabbrica per le sessioni.
- **Function**: `get_db` - Dependency injection per fornire sessioni del database.
- **Function**: `init_db` - Crea tutte le tabelle definite nel database.
- **Function**: `drop_db` - Rimuove permanentemente tutte le tabelle dal database.
- **Constant**: `SessionLocal` - Alias per accedere alla fabbrica di sessioni configurata.

---
*Generated by TurboWrap - 2025-12-24 14:48*