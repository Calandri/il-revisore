# core

## Files

**Directory Stats:** 4 files, 408 lines, 2,354 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `__init__.py` | 12 | 57 |
| `orchestrator.py` | 10 | 61 |
| `repo_manager.py` | 235 | 1,391 |
| `task_queue.py` | 151 | 845 |

### __init__.py
*12 lines, 57 tokens*

- **Class**: `RepoManager` - Handles repository management and core business logic.
- **Class**: `Orchestrator` - Coordinates workflows and system component interactions.
- **Class**: `TaskQueue` - Manages background task execution and queuing.
- **Constant**: `__all__` - Defines the publicly accessible module members.

### orchestrator.py
*10 lines, 61 tokens*

- **Class**: `Orchestrator` - Re-exported class providing backward compatibility.
- **Constant**: `__all__` - Defines the exported symbols of the module.

### repo_manager.py
*235 lines, 1,391 tokens*

- **Function**: `_calculate_token_totals` - Computes total characters, lines, and tokens for file lists.
- **Class**: `RepoManager` - Handles repository operations including cloning, syncing, and management.
- **Function**: `clone` - Downloads repositories from GitHub and creates database records.
- **Function**: `sync` - Pulls latest changes and refreshes repository token statistics.
- **Function**: `get` - Retrieves a specific repository record by its database ID.
- **Function**: `get_by_name` - Searches for a repository by its owner/repo name.
- **Function**: `list` - Returns a sorted list of repositories filtered by status.
- **Function**: `delete` - Removes repository database records and optional local storage.
- **Function**: `get_status` - Provides current operational status of a specific repository.

### task_queue.py
*151 lines, 845 tokens*

- **Class**: `QueuedTask` - Data structure representing a task with priority and metadata.
- **Class**: `TaskQueue` - Thread-safe in-memory manager for task lifecycle and prioritization.
- **Constant**: `_task_queue` - Global reference for the singleton task queue instance.
- **Function**: `get_task_queue` - Retrieves the global singleton instance of TaskQueue.
- **Function**: `enqueue` - Adds task to queue maintaining priority-based order.
- **Function**: `dequeue` - Removes and returns the highest priority task for processing.
- **Function**: `complete` - Removes a task from the processing tracking map.
- **Function**: `fail` - Removes a task from processing status upon failure.
- **Function**: `cancel` - Removes a pending task from the queue by ID.
- **Function**: `get_status` - Returns counts and lists of pending and active tasks.

---
*Generated by TurboWrap - 2025-12-24 15:47*