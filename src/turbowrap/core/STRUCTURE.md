# core

## Files

**Directory Stats:** 4 files, 408 lines, 2,354 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `__init__.py` | 12 | 57 |
| `orchestrator.py` | 10 | 61 |
| `repo_manager.py` | 235 | 1,391 |
| `task_queue.py` | 151 | 845 |

### __init__.py
*12 lines, 57 tokens*

- **Class**: `RepoManager` - Handles repository operations and lifecycle management.
- **Class**: `Orchestrator` - Coordinates core business logic and system workflows.
- **Class**: `TaskQueue` - Manages asynchronous task queuing and execution.
- **Constant**: `__all__` - Defines public symbols exported by the module.

### orchestrator.py
*10 lines, 61 tokens*

- **Class**: `Orchestrator` - Re-exported class for backward compatibility with existing code.
- **Constant**: `__all__` - List of public symbols exported by the module.

### repo_manager.py
*235 lines, 1,391 tokens*

- **Function**: `_calculate_token_totals` - Calculates file counts, line counts, and total token usage.
- **Class**: `RepoManager` - Manages repository operations and database persistence logic.
- **Function**: `clone` - Downloads a new repository and creates a database record.
- **Function**: `sync` - Updates an existing repository and refreshes file statistics.
- **Function**: `get` - Fetches a specific repository record from the database.
- **Function**: `get_by_name` - Retrieves a repository record using its GitHub name.
- **Function**: `list` - Returns repositories from the database, optionally filtered by status.
- **Function**: `delete` - Removes a repository record and associated local files.
- **Function**: `get_status` - Provides detailed status information for a specific repository.

### task_queue.py
*151 lines, 845 tokens*

- **Class**: `QueuedTask` - Data structure representing a task within the queue.
- **Class**: `TaskQueue` - Thread-safe manager for pending and processing tasks.
- **Constant**: `_task_queue` - Global singleton storage for the task queue instance.
- **Function**: `get_task_queue` - Retrieves or initializes the global task queue singleton.
- **Function**: `enqueue` - Adds a task to the queue using priority ordering.
- **Function**: `dequeue` - Retrieves the next highest-priority task for processing.
- **Function**: `complete` - Marks a task as finished and removes from tracking.
- **Function**: `fail` - Removes a failed task from the processing dictionary.
- **Function**: `cancel` - Removes a pending task from the queue by ID.
- **Function**: `get_status` - Returns metadata about pending and active tasks.

---
*Generated by TurboWrap - 2025-12-24 15:29*