{% if repos %}
<div class="divide-y dark:divide-gray-700">
    {% for repo in repos %}
    <div class="p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors">
        <div class="flex items-center gap-4">
            <!-- Icon -->
            <div class="w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center">
                <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
                </svg>
            </div>

            <!-- Info -->
            <div>
                <h3 class="font-medium">{{ repo.name or repo.url.split('/')[-1] }}</h3>
                <p class="text-sm text-gray-500 dark:text-gray-400">{{ repo.url }}</p>
            </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-2">
            <!-- Status badge -->
            <span class="px-2 py-1 text-xs rounded-full
                {% if repo.status == 'ready' %}bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400
                {% elif repo.status == 'analyzing' %}bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400
                {% else %}bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300{% endif %}">
                {{ repo.status }}
            </span>

            <!-- Analyze button -->
            <a href="/repos/{{ repo.id }}"
               class="p-2 text-gray-500 hover:text-primary hover:bg-primary/10 rounded-lg transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M9 5l7 7-7 7"/>
                </svg>
            </a>

            <!-- Delete button -->
            <button hx-delete="/htmx/repos/{{ repo.id }}"
                    hx-target="#repo-list"
                    hx-confirm="Sei sicuro di voler rimuovere questa repository?"
                    class="p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                </svg>
            </button>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="p-8 text-center text-gray-500">
    <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"/>
    </svg>
    <p class="mb-2">Nessuna repository</p>
    <p class="text-sm">Aggiungi una repository per iniziare</p>
</div>
{% endif %}
