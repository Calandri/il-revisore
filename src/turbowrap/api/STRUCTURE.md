# api

## Files

**Directory Stats:** 3 files, 100 lines, 544 tokens

| File | Lines | Tokens |
|------|------:|-------:|
| `__init__.py` | 6 | 27 |
| `deps.py` | 13 | 53 |
| `main.py` | 81 | 464 |

### __init__.py
*6 lines, 27 tokens*

- **Function**: `create_app` - Factory function to initialize the application.
- **Constant**: `app` - Main application instance for the API server.
- **Constant**: `__all__` - List of public symbols exported from the package.

### deps.py
*13 lines, 53 tokens*

- **Function**: `get_db` - Provides a database session dependency for API endpoints.

### main.py
*81 lines, 464 tokens*

- **Constant**: `TEMPLATE_DIR` - Path to the application's Jinja2 template directory.
- **Constant**: `STATIC_DIR` - Path to the application's static files directory.
- **Decorator**: `@asynccontextmanager` - Manages application setup and teardown lifecycle.
- **Function**: `lifespan` - Handles database initialization during application startup.
- **Function**: `create_app` - Factory function that configures and returns the FastAPI instance.
- **Decorator**: `@app.websocket` - Defines a route for real-time WebSocket communication.
- **Function**: `websocket_chat` - Manages streaming chat sessions via WebSocket connections.
- **Constant**: `app` - The primary FastAPI application instance.

---
*Generated by TurboWrap - 2025-12-24 15:29*